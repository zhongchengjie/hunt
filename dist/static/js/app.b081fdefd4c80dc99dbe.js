webpackJsonp([1],{"+MNI":function(t,e){},"/Y9G":function(t,e){},HH1O:function(t,e){},NHnr:function(t,e,a){"use strict";function s(t){a("VAo5")}function o(t){a("Y8Mq")}function n(t){a("cnPG")}function i(t){a("Zcnn")}function r(t){a("+MNI")}function l(t){a("cg4G")}function c(t){a("vnYs")}function d(t){a("Pc3h")}function u(t){a("HH1O")}function m(t){a("/Y9G")}function v(t){a("P+TQ")}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new ts.a(function(a,s){fo.a.get(t,{params:e}).then(function(t){var e=t.data;"succ"==e.status?a(e):(console.log("Error msg: "+e.msg),layer.msg(e.msg,{icon:7}),s(e.msg))}).catch(function(e){console.log("Error occured when get '"+t+"', "+e),layer.msg("请求出错了，请稍候重试！",{icon:7}),s(e)})})}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new ts.a(function(a,s){fo.a.post(t,e).then(function(t){var e=t.data;"succ"==e.status?a(e):(console.log("Error msg: "+e.msg),layer.msg(e.msg,{icon:7}),s(e.msg))},function(e){console.log("Error occured when post '"+t+"', "+e),layer.msg("请求出错了，请稍候重试！",{icon:7}),s(e)})})}function f(t,e){if(t)return ma()(t).format(e)}function h(t){return/\n/.test(t)?t.replace(/\n/g,"<br/>"):t}function g(){}Object.defineProperty(e,"__esModule",{value:!0});var b=a("7+uW"),C={name:"app"},y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},x=[],I={render:y,staticRenderFns:x},w=I,j=a("VU/8"),$=s,N=j(C,w,!1,$,null,null),k=N.exports,L=a("/ocq"),A={name:"sidebarName"},S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"sidebar-menu"},[a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/dashboard"}},[a("a",[a("i",{staticClass:"fa fa-pie-chart fa-fw"}),t._v(" "),a("span",{staticClass:"page"},[t._v("仪表盘")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/dict"}},[a("a",[a("i",{staticClass:"fa fa-book fa-fw"}),t._v(" "),a("span",{staticClass:"page"},[t._v("数据字典管理")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/user"}},[a("a",[a("i",{staticClass:"fa fa-user fa-fw"}),t._v(" "),a("span",{staticClass:"page"},[t._v("用户管理")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/hero"}},[a("a",[a("i",{staticClass:"fa fa-list-ul fa-fw"}),t._v(" "),a("span",{staticClass:"page"},[t._v("英雄资料管理")])])]),t._v(" "),a("li",{staticClass:"treeview"},[t._m(0),t._v(" "),a("ul",{staticClass:"treeview-menu"},[a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/bot/account"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("机器人帐号")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/bot/store"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("机器人库存")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/assset"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("饰品信息")])])])],1)]),t._v(" "),a("li",{staticClass:"treeview"},[t._m(1),t._v(" "),a("ul",{staticClass:"treeview-menu"},[a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/account/list"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("用户账户")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/account/detail"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("账户明细")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/account/deposit"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("充值记录")])])])],1)]),t._v(" "),a("li",{staticClass:"treeview"},[t._m(2),t._v(" "),a("ul",{staticClass:"treeview-menu"},[a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/api/doc"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("API文档")])])]),t._v(" "),a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/api/debug"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("API调试")])])])],1)]),t._v(" "),a("li",{staticClass:"treeview"},[t._m(3),t._v(" "),a("ul",{staticClass:"treeview-menu"},[a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/api/model"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("Model")])])])],1)]),t._v(" "),a("li",{staticClass:"treeview"},[t._m(4),t._v(" "),a("ul",{staticClass:"treeview-menu"},[a("router-link",{staticClass:"pageLink",attrs:{tag:"li",to:"/"}},[a("a",[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"page"},[t._v("Code-AutoComplete")])])])],1)])],1)},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-steam fa-fw"}),t._v(" "),a("span",[t._v("交易管理")]),t._v(" "),a("span",{staticClass:"pull-right-container"},[a("i",{staticClass:"fa fa-angle-left fa-fw pull-right"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-desktop fa-fw"}),t._v(" "),a("span",[t._v("账户管理")]),t._v(" "),a("span",{staticClass:"pull-right-container"},[a("i",{staticClass:"fa fa-angle-left fa-fw pull-right"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-hdd-o fa-fw"}),t._v(" "),a("span",[t._v("API管理")]),t._v(" "),a("span",{staticClass:"pull-right-container"},[a("i",{staticClass:"fa fa-angle-left fa-fw pull-right"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-database fa-fw"}),t._v(" "),a("span",[t._v("Model管理")]),t._v(" "),a("span",{staticClass:"pull-right-container"},[a("i",{staticClass:"fa fa-angle-left fa-fw pull-right"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-cog fa-fw"}),t._v(" "),a("span",[t._v("工具箱")]),t._v(" "),a("span",{staticClass:"pull-right-container"},[a("i",{staticClass:"fa fa-angle-left fa-fw pull-right"})])])}],P={render:S,staticRenderFns:E},T=P,M=a("VU/8"),D=o,z=M(A,T,!1,D,null,null),U=z.exports,F={name:"sidebar",props:["displayName","pictureUrl"],components:{sidebarMenu:U},mounted:function(){window.jQuery('[data-toggle="hideseek"]').off().hideseek()}},B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"main-sidebar"},[a("section",{staticClass:"sidebar"},[a("div",{staticClass:"user-panel"},[a("div",{staticClass:"pull-left image"},[a("img",{attrs:{src:t.pictureUrl}})]),t._v(" "),a("div",{staticClass:"pull-left info"},[a("div",[a("p",{staticClass:"white"},[t._v(t._s(t.displayName))])]),t._v(" "),t._m(0)])]),t._v(" "),a("form",{staticClass:"sidebar-form",on:{submit:function(t){t.preventDefault()}}},[t._m(1)]),t._v(" "),a("sidebar-menu")],1)])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-circle text-success"}),t._v(" Online\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group"},[a("input",{staticClass:"search form-control",attrs:{type:"text",name:"search",id:"search","data-toggle":"hideseek",placeholder:"Search Menus","data-list":".sidebar-menu"}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-flat",attrs:{type:"submit",name:"search",id:"search-btn"}},[a("i",{staticClass:"fa fa-search"})])])])}],O={render:B,staticRenderFns:H},R=O,V=a("VU/8"),q=n,Y=V(F,R,!1,q,null,null),X=Y.exports,G=(a("ALcD"),{name:"index",components:{sidebar:X},data:function(){return{year:(new Date).getFullYear(),userName:JSON.parse(localStorage.getItem("user")).user_name}}}),W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("header",{staticClass:"main-header"},[t._m(0),t._v(" "),a("nav",{staticClass:"navbar navbar-static-top",attrs:{role:"navigation"}},[t._m(1),t._v(" "),a("div",{staticClass:"navbar-custom-menu"},[a("ul",{staticClass:"nav navbar-nav"},[t._m(2),t._v(" "),a("li",{staticClass:"dropdown user user-menu"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:;","data-toggle":"dropdown"}},[a("img",{staticClass:"user-image",attrs:{src:"/static/img/avatar.jpg",alt:"User Image"}}),t._v(" "),a("span",{staticClass:"hidden-xs"},[t._v(t._s(t.userName))])])])])])])]),t._v(" "),a("sidebar",{attrs:{"display-name":t.userName,"picture-url":"/static/img/avatar.jpg"}}),t._v(" "),a("div",{staticClass:"content-wrapper"},[a("section",{staticClass:"content-header"},[a("ol",{staticClass:"breadcrumb"},[t._m(3),t._v(" "),a("li",{staticClass:"active"},[t._v(t._s(t.$route.name))])])]),t._v(" "),a("router-view")],1),t._v(" "),a("footer",{staticClass:"main-footer"},[a("strong",[t._v("Copyright © "+t._s(t.year)+"\n        "),a("a",{attrs:{href:"javascript:;"}},[t._v("Hunt")]),t._v(".")]),t._v(" All rights reserved.\n    ")])],1)},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"logo-mini"},[a("a",{attrs:{href:"/"}},[a("img",{staticClass:"img-responsive center-block logo",attrs:{src:"/static/img/copilot-logo-white.svg",alt:"Logo"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"sidebar-toggle",attrs:{href:"javascript:;","data-toggle":"offcanvas",role:"button"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"dropdown notifications-menu"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:;","data-toggle":"dropdown"}},[a("i",{staticClass:"fa fa-bell-o"}),t._v(" "),a("span",{staticClass:"label label-warning"},[t._v("3")])]),t._v(" "),a("ul",{staticClass:"dropdown-menu"},[a("li",{staticClass:"header"},[t._v("You have 3 notification(s)")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-home"}),t._v("首页")])])}],Q={render:W,staticRenderFns:K},J=Q,Z=a("VU/8"),tt=i,et=Z(G,J,!1,tt,null,null),at=et.exports,st={name:"login",data:function(){return{loginApi:"http://localhost:8802/api/admin/login",account:"",password:""}},methods:{loginCheck:function(){var t=this;this.$post(this.loginApi,{account:this.account,password:this.password}).then(function(e){layer.msg("登录成功",{icon:1}),store.commit("setLoginUser",e.result),store.commit("setLoginToken",e.token),t.$router.push("/")})}}},ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container container-table"},[a("div",{staticClass:"row vertical-10p"},[a("div",{staticClass:"container"},[a("img",{staticClass:"center-block logo",attrs:{src:"/static/img/logo.png"}}),t._v(" "),a("div",{staticClass:"text-center col-md-4 col-sm-offset-4"},[a("form",{staticClass:"ui form loginForm",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.loginCheck(e)}}},[a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"submit"}},[t._v("Submit")])])])])])])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-envelope"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-lock",staticStyle:{"font-size":"21px"}})])}],it={render:ot,staticRenderFns:nt},rt=it,lt=a("VU/8"),ct=r,dt=lt(st,rt,!1,ct,null,null),ut=dt.exports,mt=a("XLwt"),vt=a.n(mt),pt={name:"dashboard",data:function(){return{botList:[]}},mounted:function(){this.initChart()},methods:{initChart:function(){vt.a.init(document.getElementById("chart1")).setOption({color:["#3398DB","#1dbb9b"],tooltip:{},xAxis:{data:["06-01","06-02","06-03","06-04","06-05","06-06","06-07","06-08","06-09","06-10","06-11","06-12","06-13","06-14","06-15"]},legend:{data:["存入量","取回量"]},yAxis:{},series:[{name:"存入量",type:"bar",data:[5,20,36,10,10,20,20,36,10,10,5,20,36,10,12]},{name:"取回量",type:"bar",data:[3,12,34,50,12,56,12,34,9,4,16,16,36,16,17]}]})},getBotList:function(){var t=this;this.$post("api/bot/get").then(function(e){t.botList=e.result})},getTradeState:function(t){if("1"==t)return"<label class='label label-success'>空闲中</label>"},getLoginState:function(t){return"1"==t?"<label class='label label-success'>在线</label>":"-1"==t?"<label class='label label-warning'>离线</label>":void 0}}},_t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"ipanel"},[a("div",{staticClass:"ipanel-header"},[a("span",{staticClass:"label label-success pull-right"},[t._v("当前")]),t._v(" "),a("h5",[t._v("用户总数")])]),t._v(" "),a("div",{staticClass:"ipanel-content"},[a("h1",[t._v("23,367")])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"ipanel"},[a("div",{staticClass:"ipanel-header"},[a("span",{staticClass:"label label-info pull-right"},[t._v("当前")]),t._v(" "),a("h5",[t._v("存入饰品总量")])]),t._v(" "),a("div",{staticClass:"ipanel-content"},[a("h1",[t._v("12,024")])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"ipanel"},[a("div",{staticClass:"ipanel-header"},[a("span",{staticClass:"label label-primary pull-right"},[t._v("当前")]),t._v(" "),a("h5",[t._v("交易总量")])]),t._v(" "),a("div",{staticClass:"ipanel-content"},[a("h1",[t._v("106,120")])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"ipanel"},[a("div",{staticClass:"ipanel-header"},[a("span",{staticClass:"label label-danger pull-right"},[t._v("今日")]),t._v(" "),a("h5",[t._v("异常事件")])]),t._v(" "),a("div",{staticClass:"ipanel-content"},[a("h1",[t._v("3")])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"ipanel"},[a("div",{staticClass:"ipanel-header"},[a("h5",[t._v("饰品存入/取回")]),t._v(" "),a("span",{staticStyle:{float:"right","margin-right":"20px",position:"relative",bottom:"4px"}},[a("select",{staticClass:"form-control input-sm",staticStyle:{height:"26px","line-height":"26px",padding:"5px 2px"}},[a("option",[t._v("2018-06")]),t._v(" "),a("option",[t._v("2018-05")]),t._v(" "),a("option",[t._v("2018-04")]),t._v(" "),a("option",[t._v("2018-03")]),t._v(" "),a("option",[t._v("2018-01")])])])]),t._v(" "),a("div",{staticClass:"ipanel-content"},[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart1"}})])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"ipanel"},[a("div",{staticClass:"ipanel-header"},[a("h5",[t._v("交易实时"),a("a",{staticStyle:{"margin-left":"10px",cursor:"pointer"}},[a("span",{staticClass:"glyphicon glyphicon-refresh"})])])]),t._v(" "),a("div",{staticClass:"ipanel-content"},[a("table",{staticClass:"table table-auto table-hover"},[a("thead",[a("tr",[a("th",[t._v("用户")]),t._v(" "),a("th",[t._v("事件名称")]),t._v(" "),a("th",[t._v("操作时间")]),t._v(" "),a("th",[t._v("状态")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("CCnc")]),t._v(" "),a("td",[t._v("存入饰品")]),t._v(" "),a("td",[t._v("2018-05-12 12:34:01")]),t._v(" "),a("td",[a("label",{staticClass:"label label-success"},[t._v("成功")])])]),t._v(" "),a("tr",[a("td",[t._v("Kane")]),t._v(" "),a("td",[t._v("取回饰品")]),t._v(" "),a("td",[t._v("2018-05-12 09:12:45")]),t._v(" "),a("td",[a("label",{staticClass:"label label-warning"},[t._v("失败")])])]),t._v(" "),a("tr",[a("td",[t._v("瓜皮战士")]),t._v(" "),a("td",[t._v("购买饰品")]),t._v(" "),a("td",[t._v("2018-05-11 20:09:45")]),t._v(" "),a("td",[a("label",{staticClass:"label label-success"},[t._v("成功")])])]),t._v(" "),a("tr",[a("td",[t._v("qwerty")]),t._v(" "),a("td",[t._v("上架饰品")]),t._v(" "),a("td",[t._v("2018-05-10 09:12:45")]),t._v(" "),a("td",[a("label",{staticClass:"label label-success"},[t._v("成功")])])]),t._v(" "),a("tr",[a("td",[t._v("云玩家")]),t._v(" "),a("td",[t._v("购买饰品")]),t._v(" "),a("td",[t._v("2018-05-09 12:09:45")]),t._v(" "),a("td",[a("label",{staticClass:"label label-success"},[t._v("成功")])])])])])])])])])])}],ht={render:_t,staticRenderFns:ft},gt=ht,bt=a("VU/8"),Ct=l,yt=bt(pt,gt,!1,Ct,null,null),xt=yt.exports,It={name:"modalHeader",props:["modalName","modalTitle"],data:function(){return{}},destroyed:function(){},methods:{closeModal:function(){var t=this.modalName;this.$modal.hide(t)}}},wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("span",{staticClass:"pull-right",on:{click:t.closeModal}},[a("i",{staticClass:"fa fa-close"})]),t._v(" "),a("h5",[t._v(t._s(t.modalTitle))])])},jt=[],$t={render:wt,staticRenderFns:jt},Nt=$t,kt=a("VU/8"),Lt=c,At=kt(It,Nt,!1,Lt,"data-v-19ab3655",null),St=At.exports,Et={name:"modalFooter",props:["modalName","type"],data:function(){return{}},destroyed:function(){},methods:{saveClick:function(){eventBus.$emit("saveClick")},closeModal:function(){var t=this.modalName;this.$modal.hide(t)}}},Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 2==t.type?a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("关闭")])]):a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.saveClick}},[t._v("保存")]),t._v("   \n       "),a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("关闭")])])},Tt=[],Mt={render:Pt,staticRenderFns:Tt},Dt=Mt,zt=a("VU/8"),Ut=d,Ft=zt(Et,Dt,!1,Ut,"data-v-738b5469",null),Bt=Ft.exports,Ht={name:"userEdit",props:["userInfo"],data:function(){return{ifreadonly:!1}},created:function(){""!=this.userInfo.user_password&&(this.ifreadonly=!0,this.userInfo.user_password="11111111")}},Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{name:"userEditForm"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo._id,expression:"userInfo._id"}],attrs:{type:"hidden",name:"_id"},domProps:{value:t.userInfo._id},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"_id",e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-edit"},[a("tr",[a("td",{attrs:{width:"80px"}},[t._v("手机号码")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_phone,expression:"userInfo.user_phone"}],staticClass:"form-control input-sm",attrs:{type:"tel",name:"user_phone"},domProps:{value:t.userInfo.user_phone},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_phone",e.target.value)}}})]),t._v(" "),a("td",{attrs:{width:"80px"}},[t._v("登录密码")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("input",{staticStyle:{position:"absolute",left:"9999px"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_password,expression:"userInfo.user_password"}],staticClass:"form-control input-sm",attrs:{type:"password",name:"user_password",readonly:t.ifreadonly},domProps:{value:t.userInfo.user_password},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_password",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("用户名")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_name,expression:"userInfo.user_name"}],staticClass:"form-control input-sm",attrs:{type:"text",name:"user_name"},domProps:{value:t.userInfo.user_name},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_name",e.target.value)}}})]),t._v(" "),a("td",[t._v("steamid")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_steamid,expression:"userInfo.user_steamid"}],staticClass:"form-control input-sm",attrs:{type:"text",name:"user_steamid"},domProps:{value:t.userInfo.user_steamid},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_steamid",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("邮箱")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_email,expression:"userInfo.user_email"}],staticClass:"form-control input-sm",attrs:{type:"email",name:"user_email"},domProps:{value:t.userInfo.user_email},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_email",e.target.value)}}})]),t._v(" "),a("td",[t._v("用户类型")]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_type,expression:"userInfo.user_type"}],staticClass:"form-control input-sm",attrs:{name:"user_type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.userInfo,"user_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"common"}},[t._v("普通用户")]),t._v(" "),a("option",{attrs:{value:"vip"}},[t._v("vip用户")])])])]),t._v(" "),a("tr",[a("td",[t._v("交易链接")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_tradeurl,expression:"userInfo.user_tradeurl"}],staticClass:"form-control input-sm",attrs:{type:"text",name:"user_tradeurl"},domProps:{value:t.userInfo.user_tradeurl},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_tradeurl",e.target.value)}}})])])])])},Rt=[],Vt={render:Ot,staticRenderFns:Rt},qt=Vt,Yt=a("VU/8"),Xt=Yt(Ht,qt,!1,null,null,null),Gt=Xt.exports,Wt={name:"paginat",props:["totalCount","pageSizes","pSize"],data:function(){return{pageSize:15,pageNo:1,totalPage:1}},mounted:function(){this.pageSize=this.pSize||15},computed:{getTotalPage:function(){var t=this.totalCount;if(t>0)return Math.ceil(t/this.pageSize)}},methods:{reloadList:function(){this.pageNo=1,eventBus.$emit("reloadList",this.pageSize,this.pageNo)},nextPage:function(){this.pageNo++,eventBus.$emit("reloadList",this.pageSize,this.pageNo)},prePage:function(){this.pageNo--,eventBus.$emit("reloadList",this.pageSize,this.pageNo)}}},Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-content-page"},[t.pageSizes&&t.pageSizes.length>0?a("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],staticClass:"form-control input-sm",staticStyle:{width:"90px",display:"inline-block"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.pageSize=e.target.multiple?a:a[0]},t.reloadList]}},t._l(t.pageSizes,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e)+" 条/页")])})):a("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],staticClass:"form-control input-sm",staticStyle:{width:"90px",display:"inline-block"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.pageSize=e.target.multiple?a:a[0]},t.reloadList]}},[a("option",{attrs:{value:"10"}},[t._v("10 条/页")]),t._v(" "),a("option",{attrs:{value:"15"}},[t._v("15 条/页")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("20 条/页")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30 条/页")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50 条/页")])]),t._v(" "),a("span",{staticClass:"total-info"},[t._v("   共  "),a("span",[t._v(t._s(t.totalCount))]),t._v(" 条，共  "),a("span",[t._v(t._s(t.getTotalPage))]),t._v(" 页")]),t._v(" "),t.getTotalPage>1&&t.getTotalPage!=t.pageNo?a("button",{staticClass:"btn btn-sm btn-default pull-right",attrs:{type:"button"},on:{click:t.nextPage}},[t._v("下一页")]):t._e(),t._v(" "),t.getTotalPage>1&&1!=t.pageNo?a("button",{staticClass:"btn btn-sm btn-default pull-right",staticStyle:{"margin-right":"10px"},attrs:{type:"button"},on:{click:t.prePage}},[t._v("上一页")]):t._e(),t._v(" "),a("span",{staticClass:"page-no pull-right",staticStyle:{"margin-right":"10px","margin-top":"5px"}},[t._v("第 "),a("span",[t._v(t._s(t.pageNo))]),t._v(" 页")])])},Qt=[],Jt={render:Kt,staticRenderFns:Qt},Zt=Jt,te=a("VU/8"),ee=te(Wt,Zt,!1,null,null,null),ae=ee.exports,se={name:"user",components:{"modal-header":St,"modal-footer":Bt,"user-edit":Gt,paginat:ae},data:function(){return{modalName:"userEditModal",modalTitle:"添加用户",userList:[],userInfo:{_id:"",user_phone:"",user_password:"",user_name:"",user_steamid:"",user_email:"",user_type:"common",user_tradeurl:""},searchCon:{userType:"",inputText:"",pageSize:15,pageNo:1},totalCount:0,queryApi:"api/user/get",addApi:"api/user/add",editApi:"api/user/update"}},mounted:function(){var t=this;t.getUserList(),eventBus.$on("saveClick",t.formAjaxSubmit),eventBus.$on("reloadList",function(e,a){t.searchCon.pageSize=parseInt(e),t.searchCon.pageNo=parseInt(a),t.getUserList()})},methods:{getUserList:function(){var t=this;this.$post(this.queryApi,{searchCon:this.searchCon}).then(function(e){t.userList=e.result,t.totalCount=e.totalCount})},getUserType:function(t){return"common"==t?"普通用户":"vip"==t?"vip用户":void 0},showModal:function(t,e){if(1==t)this.modalTitle="添加用户",this.userInfo={_id:"",user_phone:"",user_password:"",user_name:"",user_steamid:"",user_email:"",user_type:"common",user_tradeurl:""};else{this.modalTitle="修改用户";for(var a=this.userList,s=a.length,o=0;o<s;o++)a[o]._id==e&&(this.userInfo=a[o])}this.$modal.show(this.modalName)},formAjaxSubmit:function(){""!=this.userInfo._id&&null!=this.userInfo._id?this.editUser():this.addUser()},addUser:function(){var t=this,e=this.userInfo;delete e._id,e.user_password=hex_md5(e.user_password),this.$post(this.addApi,{userInfo:e}).then(function(e){layer.msg("添加成功!",{icon:1}),t.$modal.hide(t.modalName),t.getUserList()})},editUser:function(){var t=this,e=this.userInfo;delete e.user_password,this.$post(this.editApi,{userInfo:e}).then(function(e){layer.msg("修改成功",{icon:1}),t.$modal.hide(t.modalName),t.getUserList()})}}},oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){t.showModal(1)}}},[t._v("添加用户")])]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("form",{staticClass:"form-inline"},[a("div",{staticClass:"input-group pull-right",staticStyle:{width:"340px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.inputText,expression:"searchCon.inputText"}],staticClass:"input-sm form-control",attrs:{type:"text",placeholder:"请输入用户名、手机号码、邮箱、或steamid"},domProps:{value:t.searchCon.inputText},on:{input:function(e){e.target.composing||t.$set(t.searchCon,"inputText",e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.getUserList}},[t._v(" 搜索")])])]),t._v(" "),a("div",{staticClass:"input-group input-group-sm pull-right",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"input-group-addon"},[t._v("用户类型")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.userType,expression:"searchCon.userType"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchCon,"userType",e.target.multiple?a:a[0])},t.getUserList]}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("--全部--")]),t._v(" "),a("option",{attrs:{value:"common"}},[t._v("普通用户")]),t._v(" "),a("option",{attrs:{value:"vip"}},[t._v("vip用户")])])])])])]),t._v(" "),a("table",{staticClass:"table table-auto table-striped table-hover"},[t._m(1),t._v(" "),t.userList.length>0?a("tbody",t._l(t.userList,function(e){return a("tr",[a("td",[t._v(t._s(e.user_name))]),t._v(" "),a("td",[t._v(t._s(e.user_phone))]),t._v(" "),a("td",[t._v(t._s(e.user_email))]),t._v(" "),a("td",[t._v(t._s(e.user_steamid))]),t._v(" "),a("td",[t._v(t._s(e.user_tradeurl))]),t._v(" "),a("td",[t._v(t._s(t.getUserType(e.user_type)))]),t._v(" "),a("td",[t._v(t._s(t.Util.timeFormat(e.register_time,"YYYY-MM-DD HH:mm:ss")))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(2,e._id)}}},[t._v("编辑")])])])})):a("tbody",[t._m(2)])]),t._v(" "),t.userList.length>0?a("paginat",{attrs:{"total-count":t.totalCount,"p-size":t.searchCon.pageSize}}):t._e()],1)]),t._v(" "),a("modal",{attrs:{name:t.modalName,width:500,height:300,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":t.modalTitle,"modal-name":t.modalName}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("user-edit",{attrs:{"user-info":t.userInfo}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":t.modalName}})],1)],1)},ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("h5",[t._v("用户管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("用户名")]),t._v(" "),a("th",[t._v("手机号码")]),t._v(" "),a("th",[t._v("邮箱")]),t._v(" "),a("th",[t._v("steamid")]),t._v(" "),a("th",[t._v("交易链接")]),t._v(" "),a("th",[t._v("用户类型")]),t._v(" "),a("th",[t._v("注册时间")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"noData",attrs:{colspan:"7"}},[t._v("暂无数据！")])])}],ie={render:oe,staticRenderFns:ne},re=ie,le=a("VU/8"),ce=le(se,re,!1,null,null,null),de=ce.exports,ue=a("Xxa5"),me=a.n(ue),ve=a("exGp"),pe=a.n(ve),_e={name:"dictEdit",props:["dictInfo"]},fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{name:"dictEditForm",autocomplete:"off"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dictInfo._id,expression:"dictInfo._id"}],attrs:{type:"hidden",name:""},domProps:{value:t.dictInfo._id},on:{input:function(e){e.target.composing||t.$set(t.dictInfo,"_id",e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-edit"},[a("tr",[a("td",{attrs:{width:"100px"}},[t._v("字典项名称")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dictInfo.dict_name,expression:"dictInfo.dict_name"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.dictInfo.dict_name},on:{input:function(e){e.target.composing||t.$set(t.dictInfo,"dict_name",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("字典项描述")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dictInfo.dict_descr,expression:"dictInfo.dict_descr"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.dictInfo.dict_descr},on:{input:function(e){e.target.composing||t.$set(t.dictInfo,"dict_descr",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("字典项code")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dictInfo.dict_code,expression:"dictInfo.dict_code"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.dictInfo.dict_code},on:{input:function(e){e.target.composing||t.$set(t.dictInfo,"dict_code",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("code_name")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dictInfo.dict_code_name,expression:"dictInfo.dict_code_name"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.dictInfo.dict_code_name},on:{input:function(e){e.target.composing||t.$set(t.dictInfo,"dict_code_name",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("排序")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dictInfo.order,expression:"dictInfo.order"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.dictInfo.order},on:{input:function(e){e.target.composing||t.$set(t.dictInfo,"order",e.target.value)}}})])])])])},he=[],ge={render:fe,staticRenderFns:he},be=ge,Ce=a("VU/8"),ye=Ce(_e,be,!1,null,null,null),xe=ye.exports,Ie={name:"dict",components:{"modal-header":St,"modal-footer":Bt,"dict-edit":xe},data:function(){return{modalName:"dictEditModal",modalTitle:"添加字典项",dict_name_obj:{},dictNameList:[],dictList:[],dictInfo:{_id:"",dict_name:"",dict_descr:"",dict_code:"",dict_code_name:"",order:""},queryApi:"api/dataDict/get",querNameApi:"api/dataDict/getName",addApi:"api/dataDict/add",editApi:"api/dataDict/update",delApi:"api/dataDict/del"}},mounted:function(){this.getDictList(),eventBus.$on("saveClick",this.formAjaxSubmit)},methods:{getDictList:function(){function t(){return e.apply(this,arguments)}var e=pe()(me.a.mark(function t(){var e;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$fetch(this.querNameApi);case 3:e=t.sent,this.dictNameList=e.result,this.dictNameList.length>0&&(this.dict_name_obj={value:this.dictNameList[0].dict_name,text:this.dictNameList[0].dict_descr}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),layer.msg(t.t0,{icon:7});case 11:this.getDictListByType();case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return t}(),getDictListByType:function(){var t=this;this.$post(this.queryApi,{dict_name:this.dict_name_obj.value}).then(function(e){t.dictList=e.result})},getInuse:function(t){return"<label class='label label-success'>使用中</label>"},showModal:function(t,e){if(1==t)this.modalTitle="添加字典项",this.dictInfo={_id:"",dict_name:this.dict_name_obj.value,dict_descr:this.dict_name_obj.text,dict_code:"",dict_code_name:"",order:""};else{this.modalTitle="编辑字典项";for(var a=this.dictList,s=a.length,o=0;o<s;o++)a[o]._id==e&&(this.dictInfo=a[o])}this.$modal.show(this.modalName)},formAjaxSubmit:function(){""!=this.dictInfo._id&&null!=this.dictInfo._id?this.editDict():this.addDict()},addDict:function(){var t=this,e=this.dictInfo;delete e._id,this.$post(this.addApi,{dictInfo:e}).then(function(e){layer.msg("添加成功!",{icon:1}),t.$modal.hide(t.modalName),t.getDictList()})},editDict:function(){var t=this;this.$post(this.editApi,{dictInfo:this.dictInfo}).then(function(e){layer.msg("修改成功",{icon:1}),t.$modal.hide(t.modalName),t.getDictListByType()})},delDict:function(t){var e=this;layer.confirm("确定要删除所选的字典项吗？",{icon:3,title:"删除提示"},function(a){layer.close(a),e.$post(e.delApi,{dict_id:t}).then(function(t){layer.msg("删除成功",{icon:1}),e.getDictListByType()})})}}},we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){t.showModal(1)}}},[t._v("新增字典项")])]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("form",{staticClass:"form-inline"},[a("div",{staticClass:"input-group input-group-sm pull-right"},[a("span",{staticClass:"input-group-addon"},[t._v("字典项名称")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dict_name_obj,expression:"dict_name_obj"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.dict_name_obj=e.target.multiple?a:a[0]},t.getDictListByType]}},t._l(t.dictNameList,function(e){return a("option",{domProps:{value:{value:e.dict_name,text:e.dict_descr}}},[t._v(t._s(e.dict_descr))])}))])])])]),t._v(" "),a("table",{staticClass:"table table-auto table-striped table-hover"},[t._m(1),t._v(" "),a("tbody",t._l(t.dictList,function(e,s){return a("tr",[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.order))]),t._v(" "),a("td",[t._v(t._s(e.dict_code))]),t._v(" "),a("td",[t._v(t._s(e.dict_code_name))]),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.getInuse(e.in_use))}}),t._v(" "),a("td",[t._v(t._s(t.Util.timeFormat(e.create_time,"YYYY-MM-DD HH:mm:ss")))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(2,e._id)}}},[t._v("编辑")]),t._v(" - "),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.delDict(e._id)}}},[t._v("删除")])])])}))])])]),t._v(" "),a("modal",{attrs:{name:t.modalName,width:360,height:340,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":t.modalTitle,"modal-name":t.modalName}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("dict-edit",{attrs:{"dict-info":t.dictInfo}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":t.modalName}})],1)],1)},je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("h5",[t._v("饰品稀有度")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("排序")]),t._v(" "),a("th",[t._v("code")]),t._v(" "),a("th",[t._v("code_name")]),t._v(" "),a("th",[t._v("是否在使用")]),t._v(" "),a("th",[t._v("创建时间")]),t._v(" "),a("th",[t._v("操作")])])])}],$e={render:we,staticRenderFns:je},Ne=$e,ke=a("VU/8"),Le=u,Ae=ke(Ie,Ne,!1,Le,null,null),Se=Ae.exports,Ee={name:"heroAdd",props:["heroInfo"]},Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{name:"heroAddForm",autocomplete:"off"}},[a("table",{staticClass:"table table-edit"},[a("tr",[a("td",{attrs:{width:"90px"}},[t._v("英雄类型")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_type,expression:"heroInfo.hero_type"}],staticClass:"form-control input-sm",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.heroInfo,"hero_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- 请选择 --")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("力量英雄")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("敏捷英雄")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("智力英雄")])])]),t._v(" "),a("td",{attrs:{width:"80px"}},[t._v("起始序号")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.order,expression:"heroInfo.order"}],staticClass:"form-control input-sm",attrs:{type:"number",name:""},domProps:{value:t.heroInfo.order},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"order",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("英雄名称")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_cn_name,expression:"heroInfo.hero_cn_name"}],staticClass:"form-control input-sm",attrs:{rows:"4",placeholder:"多个英雄名称请用回车隔开"},domProps:{value:t.heroInfo.hero_cn_name},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"hero_cn_name",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("英文名称")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_en_name,expression:"heroInfo.hero_en_name"}],staticClass:"form-control input-sm",attrs:{rows:"4",placeholder:"多个英文名称请用回车隔开"},domProps:{value:t.heroInfo.hero_en_name},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"hero_en_name",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("图片路径")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_img,expression:"heroInfo.hero_img"}],staticClass:"form-control input-sm",attrs:{rows:"4",placeholder:"多个图片路径请用回车隔开"},domProps:{value:t.heroInfo.hero_img},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"hero_img",e.target.value)}}})])])])])},Te=[],Me={render:Pe,staticRenderFns:Te},De=Me,ze=a("VU/8"),Ue=ze(Ee,De,!1,null,null,null),Fe=Ue.exports,Be={name:"heroEdit",props:["heroInfo"]},He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{name:"heroEditForm",autocomplete:"off"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo._id,expression:"heroInfo._id"}],attrs:{type:"hidden"},domProps:{value:t.heroInfo._id},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"_id",e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-edit"},[a("tr",[a("td",{attrs:{width:"90px"}},[t._v("英雄名称")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_cn_name,expression:"heroInfo.hero_cn_name"}],staticClass:"form-control input-sm",domProps:{value:t.heroInfo.hero_cn_name},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"hero_cn_name",e.target.value)}}})]),t._v(" "),a("td",{attrs:{width:"90px"}},[t._v("英文名称")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_en_name,expression:"heroInfo.hero_en_name"}],staticClass:"form-control input-sm",domProps:{value:t.heroInfo.hero_en_name},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"hero_en_name",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("简称")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_short_name,expression:"heroInfo.hero_short_name"}],staticClass:"form-control input-sm",domProps:{value:t.heroInfo.hero_short_name},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"hero_short_name",e.target.value)}}})]),t._v(" "),a("td",[t._v("图片路径")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_img,expression:"heroInfo.hero_img"}],staticClass:"form-control input-sm",domProps:{value:t.heroInfo.hero_img},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"hero_img",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("英雄类型")]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.hero_type,expression:"heroInfo.hero_type"}],staticClass:"form-control input-sm",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.heroInfo,"hero_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("力量英雄")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("敏捷英雄")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("智力英雄")])])]),t._v(" "),a("td",[t._v("序号")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heroInfo.order,expression:"heroInfo.order"}],staticClass:"form-control input-sm",attrs:{type:"number",name:""},domProps:{value:t.heroInfo.order},on:{input:function(e){e.target.composing||t.$set(t.heroInfo,"order",e.target.value)}}})])])])])},Oe=[],Re={render:He,staticRenderFns:Oe},Ve=Re,qe=a("VU/8"),Ye=qe(Be,Ve,!1,null,null,null),Xe=Ye.exports,Ge={name:"user",components:{"modal-header":St,"modal-footer":Bt,"hero-add":Fe,"hero-edit":Xe,paginat:ae},data:function(){return{addModal:"botAddModal",editModal:"botEditModal",heroList:[],heroInfo:{_id:"",hero_en_name:"",hero_cn_name:"",hero_short_name:"",hero_img:"",hero_type:"",order:""},totalCount:0,searchCon:{heroType:"",inputText:"",pageSize:10,pageNo:1},queryApi:"api/hero/getAll",addApi:"api/hero/addBatch",editApi:"api/hero/update"}},mounted:function(){var t=this;t.getHeroList(),eventBus.$on("saveClick",t.formAjaxSubmit),eventBus.$on("reloadList",function(e,a){t.searchCon.pageSize=parseInt(e),t.searchCon.pageNo=parseInt(a),t.getHeroList()})},methods:{getHeroList:function(){var t=this;this.$post(this.queryApi,{searchCon:this.searchCon}).then(function(e){t.heroList=e.result,t.totalCount=e.totalCount})},getHeroType:function(t){return"1"==t?"<span class='label label-danger'>力量英雄</span>":"2"==t?"<span class='label label-success'>敏捷英雄</span>":"3"==t?"<span class='label label-info'>智力英雄</span>":void 0},showModal:function(t,e){if(1==t)this.heroInfo={_id:"",hero_en_name:"",hero_cn_name:"",hero_short_name:"",hero_img:"",hero_type:"",order:""},this.$modal.show(this.addModal);else{for(var a=this.heroList,s=a.length,o=0;o<s;o++)a[o]._id==e&&(this.heroInfo=a[o]);this.$modal.show(this.editModal)}},formAjaxSubmit:function(){""!=this.heroInfo._id&&null!=this.heroInfo._id?this.editHero():this.addHero()},addHero:function(){var t=this,e=this.heroInfo;e.hero_cn_name=e.hero_cn_name.replace(/[\r\n]/g,","),e.hero_en_name=e.hero_en_name.replace(/[\r\n]/g,","),e.hero_img=e.hero_img.replace(/[\r\n]/g,","),this.$post(this.addApi,{heroInfo:e}).then(function(e){layer.msg("添加成功!",{icon:1}),t.$modal.hide(t.addModal),t.getHeroList()})},editHero:function(){var t=this;this.$post(this.editApi,{heroInfo:this.heroInfo}).then(function(e){layer.msg("修改成功",{icon:1}),t.$modal.hide(t.editModal),t.getHeroList()})}}},We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){t.showModal(1)}}},[t._v("添加英雄资料")])]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("form",{staticClass:"form-inline"},[a("div",{staticClass:"input-group pull-right",staticStyle:{width:"260px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.inputText,expression:"searchCon.inputText"}],staticClass:"input-sm form-control",attrs:{type:"text",placeholder:"请输入英雄的中英文名称或简称"},domProps:{value:t.searchCon.inputText},on:{input:function(e){e.target.composing||t.$set(t.searchCon,"inputText",e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.getHeroList}},[t._v(" 搜索")])])]),t._v(" "),a("div",{staticClass:"input-group input-group-sm pull-right",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"input-group-addon"},[t._v("英雄类型")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.heroType,expression:"searchCon.heroType"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchCon,"heroType",e.target.multiple?a:a[0])},t.getHeroList]}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("--全部--")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("力量英雄")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("敏捷英雄")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("智力英雄")])])])])])]),t._v(" "),a("table",{staticClass:"table table-auto table-striped table-hover"},[t._m(1),t._v(" "),t.heroList.length>0?a("tbody",t._l(t.heroList,function(e){return a("tr",[a("td",[t._v(t._s(e.hero_cn_name))]),t._v(" "),a("td",[t._v(t._s(e.hero_en_name))]),t._v(" "),a("td",[t._v(t._s(e.hero_short_name))]),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.getHeroType(e.hero_type))}}),t._v(" "),a("td",[a("img",{attrs:{src:"/static/img/hero/"+e.hero_img}})]),t._v(" "),a("td",[t._v(t._s(e.order))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(2,e._id)}}},[t._v("编辑")])])])})):a("tbody",[t._m(2)])]),t._v(" "),t.heroList.length>0?a("paginat",{attrs:{"total-count":t.totalCount,"p-size":t.searchCon.pageSize}}):t._e()],1)]),t._v(" "),a("modal",{attrs:{name:t.addModal,width:500,height:460,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":"添加英雄资料","modal-name":t.addModal}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("hero-add",{attrs:{"hero-info":t.heroInfo}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":t.addModal}})],1),t._v(" "),a("modal",{attrs:{name:t.editModal,width:500,height:260,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":"编辑英雄资料","modal-name":t.editModal}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("hero-edit",{attrs:{"hero-info":t.heroInfo}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":t.editModal}})],1)],1)},Ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("h5",[t._v("英雄资料管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("英雄名")]),t._v(" "),a("th",[t._v("英文名")]),t._v(" "),a("th",[t._v("简称")]),t._v(" "),a("th",[t._v("英雄类型")]),t._v(" "),a("th",[t._v("英雄图片")]),t._v(" "),a("th",[t._v("排序")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"noData",attrs:{colspan:"7"}},[t._v("暂无数据！")])])}],Qe={render:We,staticRenderFns:Ke},Je=Qe,Ze=a("VU/8"),ta=m,ea=Ze(Ge,Je,!1,ta,"data-v-305f4319",null),aa=ea.exports,sa={name:"botEdit",props:["botInfo"]},oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{name:"botEditForm",autocomplete:"off"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo._id,expression:"botInfo._id"}],attrs:{type:"hidden",name:""},domProps:{value:t.botInfo._id},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"_id",e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-edit"},[a("tr",[a("td",{attrs:{width:"90px"}},[t._v("机器人名称")]),t._v(" "),a("td",{attrs:{width:"170px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.bot_name,expression:"botInfo.bot_name"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.botInfo.bot_name},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"bot_name",e.target.value)}}})]),t._v(" "),a("td",{attrs:{width:"100px"}},[t._v("steamid")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.bot_steamid,expression:"botInfo.bot_steamid"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.botInfo.bot_steamid},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"bot_steamid",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("登录帐号")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.account_name,expression:"botInfo.account_name"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.botInfo.account_name},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"account_name",e.target.value)}}})]),t._v(" "),a("td",[t._v("登录密码")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.login_pwd,expression:"botInfo.login_pwd"}],staticClass:"form-control input-sm",attrs:{type:"password",name:""},domProps:{value:t.botInfo.login_pwd},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"login_pwd",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("登录密钥")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.shared_secret,expression:"botInfo.shared_secret"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.botInfo.shared_secret},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"shared_secret",e.target.value)}}})]),t._v(" "),a("td",[t._v("自动确认密钥")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.identity_secret,expression:"botInfo.identity_secret"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.botInfo.identity_secret},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"identity_secret",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("端口")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.port,expression:"botInfo.port"}],staticClass:"form-control input-sm",attrs:{type:"number",name:""},domProps:{value:t.botInfo.port},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"port",e.target.value)}}})]),t._v(" "),a("td",[t._v("手机号码")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.botInfo.phone,expression:"botInfo.phone"}],staticClass:"form-control input-sm",attrs:{type:"text",name:""},domProps:{value:t.botInfo.phone},on:{input:function(e){e.target.composing||t.$set(t.botInfo,"phone",e.target.value)}}})])])])])},na=[],ia={render:oa,staticRenderFns:na},ra=ia,la=a("VU/8"),ca=la(sa,ra,!1,null,null,null),da=ca.exports,ua=a("PJh5"),ma=a.n(ua),va={name:"bot",components:{"modal-header":St,"modal-footer":Bt,"bot-edit":da},data:function(){return{modalName:"botEditModal",modalTitle:"添加机器人",botList:[],botInfo:{_id:"",bot_name:"",bot_steamid:"",account_name:"",login_pwd:"",identity_secret:"",shared_secret:"",port:"",phone:"13560472084"},searchCon:{loginState:"",tradeState:"",inputText:"",pageSize:15,pageNo:1},queryApi:"api/bot/get",addApi:"api/bot/add",editApi:"api/bot/update",loginApi:"api/bot/login",logoutApi:"api/bot/logout"}},mounted:function(){this.getBotList(),eventBus.$on("saveClick",this.formAjaxSubmit)},methods:{getBotList:function(){var t=this;this.$post(this.queryApi).then(function(e){t.botList=e.result})},getTradeState:function(t){if("1"==t)return"<label class='label label-success'>空闲中</label>"},getLoginState:function(t){return"1"==t?"<label class='label label-success'>在线</label>":"-1"==t?"<label class='label label-warning'>离线</label>":void 0},timeFormat:function(t){if(t)return ma()(t).format("YYYY-MM-DD HH:mm:ss")},showModal:function(t,e){if(1==t)this.modalTitle="添加机器人",this.botInfo={_id:"",bot_name:"",bot_steamid:"",account_name:"",login_pwd:"",shared_secret:"",identity_secret:"",port:"",phone:"13560472084"};else{this.modalTitle="编辑机器人";for(var a=this.botList,s=a.length,o=0;o<s;o++)a[o]._id==e&&(this.botInfo=a[o])}this.$modal.show(this.modalName)},formAjaxSubmit:function(){""!=this.botInfo._id&&null!=this.botInfo._id?this.editBot():this.addBot()},addBot:function(){var t=this,e=this.botInfo;delete e._id,this.$post(this.addApi,{botInfo:e}).then(function(e){layer.msg("添加成功!",{icon:1}),t.$modal.hide(t.modalName),t.getBotList()})},editBot:function(){var t=this;this.$post(this.editApi,{botInfo:this.botInfo}).then(function(e){layer.msg("修改成功",{icon:1}),t.$modal.hide(t.modalName),t.getBotList()})},botLogin:function(t,e,a,s,o,n){var i=this;layer.msg("正在登录...",{icon:16,time:2e3,offset:"100px"});var r={_id:t,port:e,steamId:a,account_name:s,login_pwd:o,shared_secret:n};this.$post(this.loginApi,{botInfo:r}).then(function(t){layer.msg("登录成功",{icon:1}),i.getBotList()})},botLogout:function(t,e){var a=this;layer.msg("正在退出...",{icon:16,time:1e3,offset:"100px"});var s={bot_id:t,port:e};this.$post(this.logoutApi,{botInfo:s}).then(function(t){a.getBotList()})}}},pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){t.showModal(1)}}},[t._v("添加机器人")])]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("form",{staticClass:"form-inline"},[a("div",{staticClass:"input-group pull-right",staticStyle:{width:"300px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.inputText,expression:"searchCon.inputText"}],staticClass:"input-sm form-control",attrs:{type:"text",placeholder:"请输入机器人名称、登录帐号或端口"},domProps:{value:t.searchCon.inputText},on:{input:function(e){e.target.composing||t.$set(t.searchCon,"inputText",e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.getBotList}},[t._v(" 搜索")])])]),t._v(" "),a("div",{staticClass:"input-group input-group-sm pull-right",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"input-group-addon"},[t._v("登录状态")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.loginState,expression:"searchCon.loginState"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchCon,"loginState",e.target.multiple?a:a[0])},t.getBotList]}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("--全部--")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("在线")]),t._v(" "),a("option",{attrs:{value:"-1"}},[t._v("离线")])])]),t._v(" "),a("div",{staticClass:"input-group input-group-sm pull-right",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"input-group-addon"},[t._v("交易状态")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.tradeState,expression:"searchCon.tradeState"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchCon,"tradeState",e.target.multiple?a:a[0])},t.getBotList]}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("--全部--")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("空闲中")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("交易中")])])])])])]),t._v(" "),a("table",{staticClass:"table table-auto table-striped table-hover"},[t._m(1),t._v(" "),t.botList.length>0?a("tbody",t._l(t.botList,function(e){return a("tr",[a("td",[t._v(t._s(e.bot_name))]),t._v(" "),a("td",[t._v(t._s(e.account_name))]),t._v(" "),a("td",[t._v(t._s(e.shared_secret))]),t._v(" "),a("td",[t._v(t._s(e.port))]),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.getLoginState(e.login_state))}}),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.getTradeState(e.trade_state))}}),t._v(" "),a("td",[t._v(t._s(t.timeFormat(e.last_login_time)))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(2,e._id)}}},[t._v("编辑")])])])})):a("tbody",[t._m(2)])])])]),t._v(" "),a("modal",{attrs:{name:t.modalName,width:520,height:300,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":t.modalTitle,"modal-name":t.modalName}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("bot-edit",{attrs:{"bot-info":t.botInfo}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":t.modalName}})],1)],1)},_a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("h5",[t._v("机器人帐号管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("机器人名称")]),t._v(" "),a("th",[t._v("登录帐号")]),t._v(" "),a("th",[t._v("登录密钥")]),t._v(" "),a("th",[t._v("端口")]),t._v(" "),a("th",[t._v("登录状态")]),t._v(" "),a("th",[t._v("交易状态")]),t._v(" "),a("th",[t._v("最近登录时间")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"noData",attrs:{colspan:"8"}},[t._v("暂无数据！")])])}],fa={render:pa,staticRenderFns:_a},ha=fa,ga=a("VU/8"),ba=ga(va,ha,!1,null,null,null),Ca=ba.exports,ya={name:"botInfo",props:["infoObj"]},xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-info table-bordered"},[a("tr",[a("td",{attrs:{width:"90px"}},[t._v("机器人名称")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.bot_name))]),t._v(" "),a("td",{attrs:{width:"90px"}},[t._v("steamid")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.bot_steamid))])]),t._v(" "),a("tr",[a("td",[t._v("登录帐号")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.account_name))]),t._v(" "),a("td",[t._v("登录密码")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.login_pwd))])]),t._v(" "),a("tr",[a("td",[t._v("登录密钥")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.shared_secret))]),t._v(" "),a("td",[t._v("端口")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.port))])])])},Ia=[],wa={render:xa,staticRenderFns:Ia},ja=wa,$a=a("VU/8"),Na=$a(ya,ja,!1,null,null,null),ka=Na.exports,La={name:"userInfo",props:["infoObj"]},Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-info table-bordered"},[a("tr",[a("td",[t._v("用户名")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.user_name))]),t._v(" "),a("td",[t._v("steamid")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.user_steamid))])]),t._v(" "),a("tr",[a("td",[t._v("手机号码")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.user_phone))]),t._v(" "),a("td",[t._v("登录密码")]),t._v(" "),a("td",[t._v("******")])]),t._v(" "),a("tr",[a("td",[t._v("邮箱")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.user_email))]),t._v(" "),a("td",[t._v("用户类型")]),t._v(" "),a("td",[t._v(t._s(t.infoObj.user_type))])])])},Sa=[],Ea={render:Aa,staticRenderFns:Sa},Pa=Ea,Ta=a("VU/8"),Ma=Ta(La,Pa,!1,null,null,null),Da=Ma.exports,za={name:"assetInfo",props:["infoObj"]},Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:"https://steamcommunity-a.akamaihd.net/economy/image/"+t.infoObj.asset_icon_url}})])},Fa=[],Ba={render:Ua,staticRenderFns:Fa},Ha=Ba,Oa=a("VU/8"),Ra=Oa(za,Ha,!1,null,null,null),Va=Ra.exports,qa={name:"bot",components:{"modal-header":St,"modal-footer":Bt,"bot-info":ka,"user-info":Da,"asset-info":Va},data:function(){return{modalName:"assetInfoModal",modalTitle:"详细信息",storeList:[],infoObj:{},searchCon:{assetState:"",inputText:"",pageSize:15,pageNo:1},queryApi:"api/store/getStoreInfo?type=4"}},mounted:function(){this.getStoretList()},methods:{getStoretList:function(){var t=this;this.$fetch(this.queryApi).then(function(e){t.storeList=e.result})},getAssetState:function(t){return"1"==t?"<label class='label label-warning'>未上架</label>":"2"==t?"<label class='label label-success'>上架中</label>":void 0},showModal:function(t,e){this.infoObj=e,1==t?(this.modalTitle="饰品详细信息",this.$modal.show("assetInfoModal")):2==t?(this.modalTitle="用户["+e.user_steamid+"]详细信息",this.$modal.show("userInfoModal")):3==t&&(this.modalTitle="机器人["+e.bot_steamid+"]详细信息",this.$modal.show("botInfoModal"))}}},Ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:t.getStoretList}},[a("span",{staticClass:"glyphicon glyphicon-refresh"}),t._v(" 刷新库存")])]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("form",{staticClass:"form-inline"},[a("div",{staticClass:"input-group pull-right",staticStyle:{width:"300px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.inputText,expression:"searchCon.inputText"}],staticClass:"input-sm form-control",attrs:{type:"text",placeholder:"请输入..."},domProps:{value:t.searchCon.inputText},on:{input:function(e){e.target.composing||t.$set(t.searchCon,"inputText",e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.getStoretList}},[t._v(" 搜索")])])]),t._v(" "),a("div",{staticClass:"input-group input-group-sm pull-right",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"input-group-addon"},[t._v("饰品状态")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.assetState,expression:"searchCon.assetState"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchCon,"assetState",e.target.multiple?a:a[0])},t.getStoretList]}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("--全部--")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("未上架")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("上架中")])])])])])]),t._v(" "),a("table",{staticClass:"table table-auto table-striped table-hover"},[t._m(1),t._v(" "),t.storeList.length>0?a("tbody",t._l(t.storeList,function(e){return a("tr",[a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(1,e.asset)}}},[t._v(t._s(e.asset._id))])]),t._v(" "),a("td",[t._v(t._s(e.asset.asset_name))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(2,e.belong_user)}}},[t._v(t._s(e.belong_user.user_steamid))])]),t._v(" "),a("td",[t._v(t._s(e.belong_user.user_name))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(3,e.bot)}}},[t._v(t._s(e.bot.bot_steamid))])]),t._v(" "),a("td",[t._v(t._s(e.bot.bot_name))]),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.getAssetState(e.asset_state))}}),t._v(" "),a("td",[t._v(t._s(e.sale_price))])])})):a("tbody",[t._m(2)])])])]),t._v(" "),a("modal",{attrs:{name:"assetInfoModal",width:600,height:640,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":t.modalTitle,"modal-name":"assetInfoModal"}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("asset-info",{attrs:{"info-obj":t.infoObj}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":"assetInfoModal",type:2}})],1),t._v(" "),a("modal",{attrs:{name:"userInfoModal",width:500,height:240,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":t.modalTitle,"modal-name":"userInfoModal"}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("user-info",{attrs:{"info-obj":t.infoObj}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":"userInfoModal",type:2}})],1),t._v(" "),a("modal",{attrs:{name:"botInfoModal",width:610,height:240,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":t.modalTitle,"modal-name":"botInfoModal"}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("bot-info",{attrs:{"info-obj":t.infoObj}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":"botInfoModal",type:2}})],1)],1)},Xa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("h5",[t._v("机器人库存管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("饰品ID")]),t._v(" "),a("th",[t._v("饰品名称")]),t._v(" "),a("th",[t._v("拥有者steamID")]),t._v(" "),a("th",[t._v("拥有者姓名")]),t._v(" "),a("th",[t._v("机器人steamID")]),t._v(" "),a("th",[t._v("机器人名称")]),t._v(" "),a("th",[t._v("饰品状态")]),t._v(" "),a("th",[t._v("出售价格")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"noData",attrs:{colspan:"7"}},[t._v("暂无数据！")])])}],Ga={render:Ya,staticRenderFns:Xa},Wa=Ga,Ka=a("VU/8"),Qa=Ka(qa,Wa,!1,null,null,null),Ja=Qa.exports,Za=a("//Fk"),ts=a.n(Za),es={name:"apiDocEdit",props:["apidocInfo"]},as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{name:"apiDocEditForm",autocomplete:"off"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo._id,expression:"apidocInfo._id"}],attrs:{type:"hidden",name:"_id"},domProps:{value:t.apidocInfo._id},on:{input:function(e){e.target.composing||t.$set(t.apidocInfo,"_id",e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-edit"},[a("tr",[a("td",{attrs:{width:"80px"}},[t._v("api名称")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.api_name,expression:"apidocInfo.api_name"}],staticClass:"form-control input-sm",attrs:{type:"text",name:"api_name"},domProps:{value:t.apidocInfo.api_name},on:{input:function(e){e.target.composing||t.$set(t.apidocInfo,"api_name",e.target.value)}}})]),t._v(" "),a("td",{attrs:{width:"80px"}},[t._v("所属模块")]),t._v(" "),a("td",{attrs:{width:"180px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.api_module,expression:"apidocInfo.api_module"}],staticClass:"form-control input-sm",attrs:{name:"api_module"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.apidocInfo,"api_module",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"用户模块"}},[t._v("用户模块")])])])]),t._v(" "),a("tr",[a("td",[t._v("请求方式")]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.api_method,expression:"apidocInfo.api_method"}],staticClass:"form-control input-sm",attrs:{name:"api_method"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.apidocInfo,"api_method",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"post"}},[t._v("post请求")]),t._v(" "),a("option",{attrs:{value:"get"}},[t._v("get请求")])])]),t._v(" "),a("td",[t._v("token验证")]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.need_token,expression:"apidocInfo.need_token"}],staticClass:"form-control input-sm",attrs:{name:"need_token"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.apidocInfo,"need_token",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("需要")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("不需要")])])])]),t._v(" "),a("tr",[a("td",[t._v("api描述")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.api_descr,expression:"apidocInfo.api_descr"}],staticClass:"form-control input-sm",attrs:{rows:"3",name:"api_descr"},domProps:{value:t.apidocInfo.api_descr},on:{input:function(e){e.target.composing||t.$set(t.apidocInfo,"api_descr",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("api参数")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.api_params,expression:"apidocInfo.api_params"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"多个参数用逗号分隔",name:"api_params"},domProps:{value:t.apidocInfo.api_params},on:{input:function(e){e.target.composing||t.$set(t.apidocInfo,"api_params",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("参数说明")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.params_descr,expression:"apidocInfo.params_descr"}],staticClass:"form-control input-sm",attrs:{rows:"5",name:"params_descr"},domProps:{value:t.apidocInfo.params_descr},on:{input:function(e){e.target.composing||t.$set(t.apidocInfo,"params_descr",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("备注说明")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.apidocInfo.remark,expression:"apidocInfo.remark"}],staticClass:"form-control input-sm",attrs:{rows:"3",name:"remark"},domProps:{value:t.apidocInfo.remark},on:{input:function(e){e.target.composing||t.$set(t.apidocInfo,"remark",e.target.value)}}})])])])])},ss=[],os={render:as,staticRenderFns:ss},ns=os,is=a("VU/8"),rs=is(es,ns,!1,null,null,null),ls=rs.exports,cs={name:"apiDoc",components:{"modal-header":St,"modal-footer":Bt,"apidoc-edit":ls},data:function(){return{modalName:"apiDocEditModal",modalTitle:"添加API说明",apiDocList:[],apiDocInfo:{_id:"",api_name:"",api_descr:"",api_module:"",api_method:"",api_params:"",params_descr:"",need_token:"",remark:""},searchCon:{inputText:"",method:"",module:""},queryApi:"api/apiDoc/get",addApi:"api/apiDoc/add",editApi:"api/apiDoc/update"}},mounted:function(){var t=this;t.getApiDocList(),eventBus.$on("saveClick",t.formAjaxSubmit)},methods:{getApiDocList:function(){var t=this;this.$fetch(this.queryApi).then(function(e){t.apiDocList=e.result})},showModal:function(t,e){if(1==t)this.modalTitle="添加API说明",this.apiDocInfo={_id:"",api_name:"",api_descr:"",api_module:"",api_method:"post",api_params:"",params_descr:"",need_token:1,remark:""};else{this.modalTitle="修改API说明";for(var a=this.apiDocList,s=a.length,o=0;o<s;o++)a[o]._id==e&&(this.apiDocInfo=a[o])}this.$modal.show(this.modalName)},formAjaxSubmit:function(){""!=this.apiDocInfo._id&&null!=this.apiDocInfo._id?this.editApiDoc():this.addApiDoc()},addApiDoc:function(){var t=this,e=this.apiDocInfo;delete e._id,this.$post(this.addApi,{apiDocInfo:e}).then(function(e){layer.msg("添加成功!",{icon:1}),t.$modal.hide(t.modalName),t.getApiDocList()})},editApiDoc:function(){var t=this;this.$post(this.editApi,{apiDocInfo:this.apiDocInfo}).then(function(e){layer.msg("修改成功",{icon:1}),t.$modal.hide(t.modalName),t.getApiDocList()})},test:function(){var t={_id:"123",api_name:"update by task1"},e={api_name:"add by task2 at "+(new Date).getTime()},a={_id:"456",api_name:"update by task3"},s=this.$post(this.editApi,{apiDocInfo:t}),o=this.$post(this.addApi,{apiDocInfo:e});this.$post(this.editApi,{apiDocInfo:a});ts.a.all([s,o]).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}}},ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){t.showModal(1)}}},[t._v("添加API说明")])]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("form",{staticClass:"form-inline"},[a("div",{staticClass:"input-group pull-right",staticStyle:{width:"240px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.inputText,expression:"searchCon.inputText"}],staticClass:"input-sm form-control",attrs:{type:"text",placeholder:"请输入API名称或API描述"},domProps:{value:t.searchCon.inputText},on:{input:function(e){e.target.composing||t.$set(t.searchCon,"inputText",e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.getApiDocList}},[t._v(" 搜索")])])]),t._v(" "),a("div",{staticClass:"input-group input-group-sm pull-right",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"input-group-addon"},[t._v("请求方式")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.method,expression:"searchCon.method"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchCon,"method",e.target.multiple?a:a[0])},t.getApiDocList]}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("--全部--")]),t._v(" "),a("option",{attrs:{value:"get"}},[t._v("get方式")]),t._v(" "),a("option",{attrs:{value:"post"}},[t._v("post方式")])])]),t._v(" "),a("div",{staticClass:"input-group input-group-sm pull-right",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"input-group-addon"},[t._v("所属模块")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchCon.module,expression:"searchCon.module"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchCon,"module",e.target.multiple?a:a[0])},t.getApiDocList]}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("--全部--")]),t._v(" "),a("option",{attrs:{value:"用户模块"}},[t._v("用户模块")])])])])])]),t._v(" "),a("table",{staticClass:"table table-auto table-striped table-hover"},[t._m(1),t._v(" "),t.apiDocList.length>0?a("tbody",t._l(t.apiDocList,function(e){return a("tr",[a("td",[t._v(t._s(e.api_name))]),t._v(" "),a("td",[t._v(t._s(e.api_descr))]),t._v(" "),a("td",[t._v(t._s(e.api_module))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.api_method))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(1==e.need_token?"√":"×"))]),t._v(" "),a("td",[t._v(t._s(e.api_params))]),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.Util.newLineText(e.params_descr))}}),t._v(" "),a("td",[t._v(t._s(e.remark))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.showModal(2,e._id)}}},[t._v("编辑")]),t._v(" - "),a("a",{attrs:{href:"javascript:void(0)"}},[t._v("删除")])])])})):a("tbody",[t._m(2)])])])]),t._v(" "),a("modal",{attrs:{name:t.modalName,width:560,height:520,pivotY:.3,pivotX:.6}},[a("modal-header",{attrs:{"modal-title":t.modalTitle,"modal-name":t.modalName}}),t._v(" "),a("div",{staticClass:"modal-body"},[a("apidoc-edit",{attrs:{"apidoc-info":t.apiDocInfo}})],1),t._v(" "),a("modal-footer",{attrs:{"modal-name":t.modalName}})],1)],1)},us=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("h5",[t._v("API文档")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("api名称")]),t._v(" "),a("th",[t._v("api描述")]),t._v(" "),a("th",[t._v("所属模块")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("请求方式")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("需要token")]),t._v(" "),a("th",[t._v("所需参数")]),t._v(" "),a("th",[t._v("参数说明")]),t._v(" "),a("th",[t._v("备注说明")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"noData",attrs:{colspan:"7"}},[t._v("暂无数据！")])])}],ms={render:ds,staticRenderFns:us},vs=ms,ps=a("VU/8"),_s=ps(cs,vs,!1,null,null,null),fs=_s.exports,hs={name:"",components:{},data:function(){return{}},mounted:function(){},methods:{}},gs=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"ibox-title"},[a("h5",[t._v("API调试")])]),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"})])])])}],Cs={render:gs,staticRenderFns:bs},ys=Cs,xs=a("VU/8"),Is=xs(hs,ys,!1,null,null,null),ws=Is.exports,js={name:"",components:{},data:function(){return{}},mounted:function(){},methods:{}},$s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ns=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"ibox-title"},[a("h5",[t._v("用户账户")])]),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"})])])])}],ks={render:$s,staticRenderFns:Ns},Ls=ks,As=a("VU/8"),Ss=As(js,Ls,!1,null,null,null),Es=Ss.exports,Ps={name:"",components:{},data:function(){return{}},mounted:function(){},methods:{}},Ts=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ms=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"ibox-title"},[a("h5",[t._v("账户明细")])]),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"})])])])}],Ds={render:Ts,staticRenderFns:Ms},zs=Ds,Us=a("VU/8"),Fs=Us(Ps,zs,!1,null,null,null),Bs=Fs.exports,Hs={name:"",components:{},data:function(){return{}},mounted:function(){},methods:{}},Os=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Rs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"ibox-title"},[a("h5",[t._v("充值记录")])]),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"})])])])}],Vs={render:Os,staticRenderFns:Rs},qs=Vs,Ys=a("VU/8"),Xs=Ys(Hs,qs,!1,null,null,null),Gs=Xs.exports,Ws={name:"model",data:function(){return{modelName:"",modelNames:[],modelInfoList:[]}},mounted:function(){this.getModelInfo()},methods:{getModelName:function(){function t(){return e.apply(this,arguments)}var e=pe()(me.a.mark(function t(){var e;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$fetch("http://localhost:8802/api/model/name/get");case 3:e=t.sent,this.modelNames=e.result,this.modelNames.length>0&&(this.modelName=this.modelNames[0]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),layer.msg(t.t0,{icon:7});case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return t}(),getModelInfo:function(){function t(){return e.apply(this,arguments)}var e=pe()(me.a.mark(function t(){var e=this;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.modelNames.length){t.next=3;break}return t.next=3,this.getModelName();case 3:this.$fetch("http://localhost:8802/api/model/descr/get",{modelName:this.modelName}).then(function(t){e.modelInfoList=t.result}).catch(function(t){layer.msg("请先同步模型！",{icon:7})});case 4:case"end":return t.stop()}},t,this)}));return t}(),asyncModel:function(t){this.$fetch("http://localhost:8802/api/model/sync",{modelName:this.modelName,type:t}).then(function(){layer.msg("同步成功",{icon:1})})}}},Ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"ibox-content-search row"},[a("div",{staticClass:"col-sm-12"},[a("form",{staticClass:"form-inline"},[a("div",{staticClass:"input-group input-group-sm"},[a("span",{staticClass:"input-group-addon"},[t._v("模型")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelName,expression:"modelName"}],staticClass:"form-control input-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.modelName=e.target.multiple?a:a[0]},t.getModelInfo]}},t._l(t.modelNames,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))]),t._v(" "),a("span",{staticStyle:{color:"#999","margin-left":"10px"}},[t._v("当前选择的Model：")]),a("b",[t._v(t._s(t.modelName))]),t._v(" "),a("button",{staticClass:"btn btn-success btn-xs",staticStyle:{"margin-left":"20px"},attrs:{type:"button"},on:{click:function(e){t.asyncModel(1)}}},[t._v("强制同步模型")]),t._v(" "),a("button",{staticClass:"btn btn-success btn-xs",staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){t.asyncModel(2)}}},[t._v("同步模型")])])])]),t._v(" "),a("table",{staticClass:"table table-auto table-striped table-hover"},[t._m(1),t._v(" "),a("tbody",t._l(t.modelInfoList,function(e,s){return a("tr",[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.type))]),t._v(" "),a("td",[t._v(t._s(e.defaultValue))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.allowNull?"√":"×"))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.primaryKey?"是":"-"))]),t._v(" "),a("td",[t._v("-")])])}))])])])])},Qs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("h5",[t._v("Model管理"),a("span",{staticStyle:{color:"#999","font-weight":"normal"}},[t._v(" (下拉选择模型以查看其详细信息) ")]),a("a",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{title:"刷新Model"}},[a("span",{staticClass:"glyphicon glyphicon-refresh"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("字段名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("允许为空")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("是否为主键")]),t._v(" "),a("th",[t._v("说明")])])])}],Js={render:Ks,staticRenderFns:Qs},Zs=Js,to=a("VU/8"),eo=v,ao=to(Ws,Zs,!1,eo,null,null),so=ao.exports;b.a.use(L.a);var oo=new L.a({routes:[{path:"/login",component:ut},{path:"/",name:"index",component:at,children:[{path:"dashboard",component:xt,alias:"",name:"仪表盘",meta:{description:""}},{path:"user",component:de,name:"用户管理",meta:{description:""}},{path:"dict",component:Se,name:"数据字典管理",meta:{description:""}},{path:"hero",component:aa,name:"英雄资料管理",meta:{description:""}},{path:"bot/account",component:Ca,name:"机器人帐号",meta:{description:""}},{path:"bot/store",component:Ja,name:"机器人库存",meta:{description:""}},{path:"api/doc",component:fs,name:"API文档",meta:{description:""}},{path:"api/debug",component:ws,name:"API调试",meta:{description:""}},{path:"account/list",component:Es,name:"用户账户",meta:{description:""}},{path:"account/detail",component:Bs,name:"账户明细",meta:{description:""}},{path:"account/deposit",component:Gs,name:"充值记录",meta:{description:""}},{path:"api/model",component:so,name:"Model",meta:{description:""}}]}],mode:"history",linkExactActiveClass:"active",scrollBehavior:function(t,e,a){return a||{x:0,y:0}}}),no=a("rifk"),io=a.n(no),ro=a("mvHQ"),lo=a.n(ro),co=a("NYxO");b.a.use(co.a);var uo={token:"",user:{}},mo={getLoginToken:function(t){return t.token},getLoginUser:function(t){return t.user}},vo={setLoginToken:function(t,e){console.log("setLoginToken========"+e),localStorage.setItem("token",e),t.token=e},setLoginUser:function(t,e){console.log("setLoginUser========"+e),localStorage.setItem("user",lo()(e)),t.user=e}},po=new co.a.Store({state:uo,getters:mo,mutations:vo}),_o=a("mtWM"),fo=a.n(_o);fo.a.defaults.baseURL="http://localhost:8809",fo.a.defaults.timeout=5e3,fo.a.interceptors.request.use(function(t){var e=localStorage.getItem("token");return t.headers.common.Authorization="Bearer "+e,t},function(t){return ts.a.reject(t)});var ho={timeFormat:f,newLineText:h,cutText:g};b.a.config.productionTip=!1,b.a.use(io.a),window.eventBus=new b.a,window.store=po,b.a.prototype.$post=_,b.a.prototype.$fetch=p,b.a.prototype.Util=ho,oo.beforeEach(function(t,e,a){console.log(t.path),"/login"==t.path||localStorage.getItem("token")&&""!=localStorage.getItem("token")?a():(console.log("Not authenticated"),a({path:"/login",query:{redirect:t.fullPath}}))}),new b.a({el:"#app",router:oo,store:po,template:"<App/>",components:{App:k}})},"P+TQ":function(t,e){},Pc3h:function(t,e){},VAo5:function(t,e){},Y8Mq:function(t,e){},Zcnn:function(t,e){},cg4G:function(t,e){},cnPG:function(t,e){},uslO:function(t,e,a){function s(t){return a(o(t))}function o(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id="uslO"},vnYs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b081fdefd4c80dc99dbe.js.map